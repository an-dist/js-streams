import*as n from"/web.min.js";globalThis.console=new n.DomConsole("console",globalThis.console);const l=document.getElementById("txtFile"),o=document.getElementById("tblResult");let e;l.onchange=async()=>{if((!e||!e.signal.aborted)&&(e?.abort(),e=new AbortController),o.innerHTML="",o.createTBody(),!l.files||l.files.length===0)return;const c=l.files[0].stream().pipeThrough(new n.Utf8DecoderStream,{signal:e.signal}).pipeThrough(new n.CsvDeserializer({hasHeader:!0}).transformable(),{signal:e.signal});let d=1;for await(const s of n.toAsyncIterableIterator(c,{signal:e.signal})){if(!o.tHead){const i=o.createTHead().insertRow();let t=document.createElement("th");t.textContent="#",i.append(t);for(const g in s)t=document.createElement("th"),t.textContent=g,i.append(t)}const r=o.tBodies[0].insertRow();r.insertCell().textContent=(d++).toLocaleString();for(const a of Object.values(s))r.insertCell().textContent=a?.toString()??"",await n.sleep(0)}};
//# sourceMappingURL=CsvViewer.min.js.map
