import*as t from"/web.min.js";const i=document.getElementById("chkDirect"),o=document.getElementById("rdoInputFormatCSV"),a=document.getElementById("rdoInputFormatTSV"),u=document.getElementById("rdoOutputFormatJSON"),h=document.getElementById("rdoOutputFormatJSONL"),n=document.getElementById("txtUrl"),d=document.getElementById("btnConvertUrl"),p=d.parentElement.lastElementChild,c=()=>{o.checked?n.value=new URL("sample.csv",location.href).href:a.checked&&(n.value=new URL("sample.tsv",location.href).href)};o.addEventListener("change",c),a.addEventListener("change",c),d.onclick=()=>{fetch(n.value,{credentials:"include"}).then(async e=>{if(!e.ok){console.warn(`${n.value} responded status code ${e.status}.`,await e.text());return}let r;i.checked||(r={linkHolder:p});const l={hasHeader:!0,delimiter:o.checked?",":"	"},s={lineSeparated:h.checked},m=u.checked?"download.json":"download.jsonl";e.body.pipeThrough(new t.Utf8DecoderStream).pipeThrough(new t.CsvDeserializer(l).transformable()).pipeThrough(new t.JsonSerializer(s).transformable()).pipeTo(new t.DownloadStream(m,r))})};
//# sourceMappingURL=CsvToJson.download.min.js.map
