import*as t from"/web.min.js";const i=document.getElementById("chkDirect"),n=document.getElementById("rdoInputFormatCSV"),d=document.getElementById("rdoInputFormatTSV"),u=document.getElementById("rdoHeaderDetectionFromFile"),h=document.getElementById("rdoOutputFormatJSON"),p=document.getElementById("rdoOutputFormatJSONL"),o=document.getElementById("txtUrl"),a=document.getElementById("btnConvertUrl"),g=a.parentElement.lastElementChild,c=()=>{n.checked?o.value=new URL("sample.csv",location.href).href:d.checked&&(o.value=new URL("sample.tsv",location.href).href)};n.addEventListener("change",c),d.addEventListener("change",c),a.onclick=()=>{fetch(o.value,{credentials:"include"}).then(async e=>{if(!e.ok){console.warn(`${o.value} responded status code ${e.status}.`,await e.text());return}let r;i.checked||(r={linkHolder:g});const l={hasHeader:u.checked,delimiter:n.checked?",":"	"},m={lineSeparated:p.checked},s=h.checked?"download.json":"download.jsonl";e.body.pipeThrough(new t.Utf8DecoderStream).pipeThrough(new t.CsvDeserializer(l).transformable()).pipeThrough(new t.JsonSerializer(m).transformable()).pipeTo(new t.DownloadStream(s,r))})};
//# sourceMappingURL=CsvToJson.download.min.js.map
