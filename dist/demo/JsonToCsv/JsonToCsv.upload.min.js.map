{
  "version": 3,
  "sources": ["JsonToCsv.upload.ts"],
  "sourcesContent": ["import * as streams from \"/web.ts\"\n\nconst chkDirect = document.getElementById(\"chkDirect\") as HTMLInputElement\nconst txtFile = document.getElementById(\"txtFile\") as HTMLInputElement\nconst linkHolder = txtFile.parentElement!.lastElementChild as HTMLDivElement\n\ntxtFile.onchange = () => {\n  if (!txtFile.files) {\n    return\n  }\n\n  let downloadOptions: streams.DownloadStreamOptions | undefined\n  if (!chkDirect.checked) {\n    downloadOptions = {\n      linkHolder\n    }\n  }\n\n  const deserializeOptions = {\n    lineSeparated: (document.getElementById(\"rdoFormatJSONL\") as HTMLInputElement).checked,\n    withComments: (document.getElementById(\"rdoFormatJSONC\") as HTMLInputElement).checked,\n  }\n\n  txtFile.files![0].stream()\n    .pipeThrough(new streams.Utf8DecoderStream())\n    .pipeThrough(new streams.JsonDeserializer(deserializeOptions).transform())\n    .pipeThrough(new streams.CsvLineEncoder({ withNewLine: true }).transform())\n    .pipeTo(new streams.DownloadStream(\"download.csv\", downloadOptions))\n}"],
  "mappings": "AAAA,UAAYA,MAAa,UAEzB,MAAMC,EAAY,SAAS,eAAe,WAAW,EAC/CC,EAAU,SAAS,eAAe,SAAS,EAC3CC,EAAaD,EAAQ,cAAe,iBAE1CA,EAAQ,SAAW,IAAM,CACvB,GAAI,CAACA,EAAQ,MACX,OAGF,IAAIE,EACCH,EAAU,UACbG,EAAkB,CAChB,WAAAD,CACF,GAGF,MAAME,EAAqB,CACzB,cAAgB,SAAS,eAAe,gBAAgB,EAAuB,QAC/E,aAAe,SAAS,eAAe,gBAAgB,EAAuB,OAChF,EAEAH,EAAQ,MAAO,CAAC,EAAE,OAAO,EACtB,YAAY,IAAIF,EAAQ,iBAAmB,EAC3C,YAAY,IAAIA,EAAQ,iBAAiBK,CAAkB,EAAE,UAAU,CAAC,EACxE,YAAY,IAAIL,EAAQ,eAAe,CAAE,YAAa,EAAK,CAAC,EAAE,UAAU,CAAC,EACzE,OAAO,IAAIA,EAAQ,eAAe,eAAgBI,CAAe,CAAC,CACvE",
  "names": ["streams", "chkDirect", "txtFile", "linkHolder", "downloadOptions", "deserializeOptions"]
}
