import*as n from"/web.min.js";const u=document.getElementById("chkDirect"),d=document.getElementById("rdoInputFormatJSON"),o=document.getElementById("rdoInputFormatJSONL"),r=document.getElementById("rdoInputFormatJSONC"),l=document.getElementById("rdoOutputFormatCSV"),e=document.getElementById("txtUrl"),s=document.getElementById("btnConvertUrl"),p=s.parentElement.lastElementChild,a=()=>{d.checked?e.value=new URL("sample.json",location.href).href:o.checked?e.value=new URL("sample.jsonl",location.href).href:r.checked&&(e.value=new URL("sample.jsonc",location.href).href)};d.addEventListener("change",a),o.addEventListener("change",a),r.addEventListener("change",a),s.onclick=()=>{fetch(e.value,{credentials:"include"}).then(async t=>{if(!t.ok){console.warn(`${e.value} responded status code ${t.status}.`,await t.text());return}let c;u.checked||(c={linkHolder:p});const i={lineSeparated:o.checked,withComments:r.checked},m={delimiter:l.checked?",":"	",withNewLine:!0},h=l.checked?"download.csv":"download.tsv";t.body.pipeThrough(new n.Utf8DecoderStream).pipeThrough(new n.JsonDeserializer(i).transformable()).pipeThrough(new n.CsvSerializer(m).transformable()).pipeTo(new n.DownloadStream(h,c))})};
//# sourceMappingURL=JsonToCsv.download.min.js.map
