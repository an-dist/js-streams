import*as n from"/web.min.js";const u=document.getElementById("chkDirect"),a=document.getElementById("rdoInputFormatJSON"),o=document.getElementById("rdoInputFormatJSONL"),r=document.getElementById("rdoInputFormatJSONC"),l=document.getElementById("rdoOutputFormatCSV"),e=document.getElementById("txtUrl"),s=document.getElementById("btnConvertUrl"),p=s.parentElement.lastElementChild,c=()=>{a.checked?e.value=new URL("sample.json",location.href).href:o.checked?e.value=new URL("sample.jsonl",location.href).href:r.checked&&(e.value=new URL("sample.jsonc",location.href).href)};a.addEventListener("change",c),o.addEventListener("change",c),r.addEventListener("change",c),s.onclick=()=>{fetch(e.value,{credentials:"include"}).then(async t=>{if(!t.ok){console.warn(`${e.value} responded status code ${t.status}.`,await t.text());return}let d;u.checked||(d={linkHolder:p});const m={lineSeparated:o.checked,withComments:r.checked},i={delimiter:l.checked?",":"	",withNewLine:!0},h=l.checked?"download.csv":"download.tsv";t.body.pipeThrough(new n.Utf8DecoderStream).pipeThrough(new n.JsonDeserializer(m).transform()).pipeThrough(new n.CsvLineEncoder(i).transform()).pipeTo(new n.DownloadStream(h,d))})};
//# sourceMappingURL=JsonToCsv.download.min.js.map
