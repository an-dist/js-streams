{
  "version": 3,
  "sources": ["JsonToCsv.download.ts"],
  "sourcesContent": ["import * as streams from \"/web.ts\"\n\nconst chkDirect = document.getElementById(\"chkDirect\") as HTMLInputElement\nconst txtUrl = document.getElementById(\"txtUrl\") as HTMLInputElement\nconst btnConvertUrl = document.getElementById(\"btnConvertUrl\") as HTMLButtonElement\nconst linkHolder = btnConvertUrl.parentElement!.lastElementChild as HTMLDivElement\n\nbtnConvertUrl.onclick = () => {\n  fetch(txtUrl.value, { credentials: \"include\" }).then(async response => {\n    if (!response.ok) {\n      console.warn(`${txtUrl.value} responded status code ${response.status}.`, await response.text())\n      return\n    }\n\n    let downloadOptions: streams.DownloadStreamOptions | undefined\n    if (!chkDirect.checked) {\n      downloadOptions = {\n        linkHolder\n      }\n    }\n\n    const deserializeOptions = {\n      lineSeparated: (document.getElementById(\"rdoFormatJSONL\") as HTMLInputElement).checked,\n      withComments: (document.getElementById(\"rdoFormatJSONC\") as HTMLInputElement).checked,\n    }\n\n    response.body!\n      .pipeThrough(new streams.Utf8DecoderStream())\n      .pipeThrough(new streams.JsonDeserializer(deserializeOptions).transform())\n      .pipeThrough(new streams.CsvLineEncoder({ withNewLine: true }).transform())\n      .pipeTo(new streams.DownloadStream(\"download.csv\", downloadOptions))\n  })\n}"],
  "mappings": "AAAA,YAAY,aAAa;AAEzB,MAAM,YAAY,SAAS,eAAe,WAAW;AACrD,MAAM,SAAS,SAAS,eAAe,QAAQ;AAC/C,MAAM,gBAAgB,SAAS,eAAe,eAAe;AAC7D,MAAM,aAAa,cAAc,cAAe;AAEhD,cAAc,UAAU,MAAM;AAC5B,QAAM,OAAO,OAAO,EAAE,aAAa,UAAU,CAAC,EAAE,KAAK,OAAM,aAAY;AACrE,QAAI,CAAC,SAAS,IAAI;AAChB,cAAQ,KAAK,GAAG,OAAO,KAAK,0BAA0B,SAAS,MAAM,KAAK,MAAM,SAAS,KAAK,CAAC;AAC/F;AAAA,IACF;AAEA,QAAI;AACJ,QAAI,CAAC,UAAU,SAAS;AACtB,wBAAkB;AAAA,QAChB;AAAA,MACF;AAAA,IACF;AAEA,UAAM,qBAAqB;AAAA,MACzB,eAAgB,SAAS,eAAe,gBAAgB,EAAuB;AAAA,MAC/E,cAAe,SAAS,eAAe,gBAAgB,EAAuB;AAAA,IAChF;AAEA,aAAS,KACN,YAAY,IAAI,QAAQ,kBAAkB,CAAC,EAC3C,YAAY,IAAI,QAAQ,iBAAiB,kBAAkB,EAAE,UAAU,CAAC,EACxE,YAAY,IAAI,QAAQ,eAAe,EAAE,aAAa,KAAK,CAAC,EAAE,UAAU,CAAC,EACzE,OAAO,IAAI,QAAQ,eAAe,gBAAgB,eAAe,CAAC;AAAA,EACvE,CAAC;AACH;",
  "names": []
}
