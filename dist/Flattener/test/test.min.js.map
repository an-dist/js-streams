{
  "version": 3,
  "sources": ["test.ts"],
  "sourcesContent": ["import { Flattener } from \"../Flattener.ts\"\r\n\r\nconst readable = (data: any) => new ReadableStream({\r\n  start(controller) {\r\n    controller.enqueue(data)\r\n    controller.close()\r\n  }\r\n})\r\n\r\nconst logging = () => new TransformStream({\r\n  transform(chunk, controller) {\r\n    console.log(chunk)\r\n    controller.enqueue(chunk)\r\n  }\r\n})\r\n\r\nconst writable = () => new WritableStream()\r\n\r\nconst test = async (data: any, limit?: number) => {\r\n  console.groupCollapsed(`=== data: ${JSON.stringify(data)}, limit: ${limit} ===`)\r\n  await readable(data)\r\n    .pipeThrough(new Flattener(limit).transform())\r\n    .pipeThrough(logging())\r\n    .pipeTo(writable())\r\n  console.groupEnd()\r\n}\r\n\r\nawait test(undefined)\r\nawait test(null)\r\nawait test(\"abc\")\r\nawait test(123)\r\n\r\nawait test([1, 2, 3, 4, 5])\r\nawait test([{ a: 1 }, { a: 2 }, [{ a: 3 }, [{ a: 4 }]], { a: 5 }])\r\n\r\nawait test([0, [1, [2, [3]]]])\r\nawait test([0, [1, [2, [3]]]], 0)\r\nawait test([0, [1, [2, [3]]]], 1)\r\nawait test([0, [1, [2, [3]]]], 2)\r\nawait test([0, [1, [2, [3]]]], 3)\r\n\r\nconsole.log(\"Test completed.\")"],
  "mappings": "AAAA,OAAS,aAAAA,MAAiB,kBAE1B,MAAMC,EAAYC,GAAc,IAAI,eAAe,CACjD,MAAMC,EAAY,CAChBA,EAAW,QAAQD,CAAI,EACvBC,EAAW,MAAM,CACnB,CACF,CAAC,EAEKC,EAAU,IAAM,IAAI,gBAAgB,CACxC,UAAUC,EAAOF,EAAY,CAC3B,QAAQ,IAAIE,CAAK,EACjBF,EAAW,QAAQE,CAAK,CAC1B,CACF,CAAC,EAEKC,EAAW,IAAM,IAAI,eAErBC,EAAO,MAAOL,EAAWM,IAAmB,CAChD,QAAQ,eAAe,aAAa,KAAK,UAAUN,CAAI,CAAC,YAAYM,CAAK,MAAM,EAC/E,MAAMP,EAASC,CAAI,EAChB,YAAY,IAAIF,EAAUQ,CAAK,EAAE,UAAU,CAAC,EAC5C,YAAYJ,EAAQ,CAAC,EACrB,OAAOE,EAAS,CAAC,EACpB,QAAQ,SAAS,CACnB,EAEA,MAAMC,EAAK,MAAS,EACpB,MAAMA,EAAK,IAAI,EACf,MAAMA,EAAK,KAAK,EAChB,MAAMA,EAAK,GAAG,EAEd,MAAMA,EAAK,CAAC,EAAG,EAAG,EAAG,EAAG,CAAC,CAAC,EAC1B,MAAMA,EAAK,CAAC,CAAE,EAAG,CAAE,EAAG,CAAE,EAAG,CAAE,EAAG,CAAC,CAAE,EAAG,CAAE,EAAG,CAAC,CAAE,EAAG,CAAE,CAAC,CAAC,EAAG,CAAE,EAAG,CAAE,CAAC,CAAC,EAEjE,MAAMA,EAAK,CAAC,EAAG,CAAC,EAAG,CAAC,EAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAC7B,MAAMA,EAAK,CAAC,EAAG,CAAC,EAAG,CAAC,EAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAG,CAAC,EAChC,MAAMA,EAAK,CAAC,EAAG,CAAC,EAAG,CAAC,EAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAG,CAAC,EAChC,MAAMA,EAAK,CAAC,EAAG,CAAC,EAAG,CAAC,EAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAG,CAAC,EAChC,MAAMA,EAAK,CAAC,EAAG,CAAC,EAAG,CAAC,EAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAG,CAAC,EAEhC,QAAQ,IAAI,iBAAiB",
  "names": ["Flattener", "readable", "data", "controller", "logging", "chunk", "writable", "test", "limit"]
}
