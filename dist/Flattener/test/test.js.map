{
  "version": 3,
  "sources": ["test.ts"],
  "sourcesContent": ["import { Flattener } from \"../Flattener.ts\"\n\n(async () => {\n\n  const readable = (data: any) => new ReadableStream({\n    start(controller) {\n      controller.enqueue(data)\n      controller.close()\n    }\n  })\n\n  const logging = () => new TransformStream({\n    transform(chunk, controller) {\n      console.log(chunk)\n      controller.enqueue(chunk)\n    }\n  })\n\n  const writable = () => new WritableStream()\n\n  const test = async (data: any, limit?: number) => {\n    console.groupCollapsed(`=== data: ${JSON.stringify(data)}, limit: ${limit} ===`)\n    await readable(data)\n      .pipeThrough(new Flattener(limit).transform())\n      .pipeThrough(logging())\n      .pipeTo(writable())\n    console.groupEnd()\n  }\n\n  await test(undefined)\n  await test(null)\n  await test(\"abc\")\n  await test(123)\n\n  await test([1, 2, 3, 4, 5])\n  await test([{ a: 1 }, { a: 2 }, [{ a: 3 }, [{ a: 4 }]], { a: 5 }])\n\n  await test([0, [1, [2, [3]]]])\n  await test([0, [1, [2, [3]]]], 0)\n  await test([0, [1, [2, [3]]]], 1)\n  await test([0, [1, [2, [3]]]], 2)\n  await test([0, [1, [2, [3]]]], 3)\n\n  console.log(\"Test completed.\")\n\n})()"],
  "mappings": "aAAA,OAAS,aAAAA,MAAiB,mBAEzB,SAAY,CAEX,MAAMC,EAAYC,GAAc,IAAI,eAAe,CACjD,MAAMC,EAAY,CAChBA,EAAW,QAAQD,CAAI,EACvBC,EAAW,MAAM,CACnB,CACF,CAAC,EAEKC,EAAU,IAAM,IAAI,gBAAgB,CACxC,UAAUC,EAAOF,EAAY,CAC3B,QAAQ,IAAIE,CAAK,EACjBF,EAAW,QAAQE,CAAK,CAC1B,CACF,CAAC,EAEKC,EAAW,IAAM,IAAI,eAErBC,EAAO,MAAOL,EAAWM,IAAmB,CAChD,QAAQ,eAAe,aAAa,KAAK,UAAUN,CAAI,CAAC,YAAYM,CAAK,MAAM,EAC/E,MAAMP,EAASC,CAAI,EAChB,YAAY,IAAIF,EAAUQ,CAAK,EAAE,UAAU,CAAC,EAC5C,YAAYJ,EAAQ,CAAC,EACrB,OAAOE,EAAS,CAAC,EACpB,QAAQ,SAAS,CACnB,EAEA,MAAMC,EAAK,MAAS,EACpB,MAAMA,EAAK,IAAI,EACf,MAAMA,EAAK,KAAK,EAChB,MAAMA,EAAK,GAAG,EAEd,MAAMA,EAAK,CAAC,EAAG,EAAG,EAAG,EAAG,CAAC,CAAC,EAC1B,MAAMA,EAAK,CAAC,CAAE,EAAG,CAAE,EAAG,CAAE,EAAG,CAAE,EAAG,CAAC,CAAE,EAAG,CAAE,EAAG,CAAC,CAAE,EAAG,CAAE,CAAC,CAAC,EAAG,CAAE,EAAG,CAAE,CAAC,CAAC,EAEjE,MAAMA,EAAK,CAAC,EAAG,CAAC,EAAG,CAAC,EAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAC7B,MAAMA,EAAK,CAAC,EAAG,CAAC,EAAG,CAAC,EAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAG,CAAC,EAChC,MAAMA,EAAK,CAAC,EAAG,CAAC,EAAG,CAAC,EAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAG,CAAC,EAChC,MAAMA,EAAK,CAAC,EAAG,CAAC,EAAG,CAAC,EAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAG,CAAC,EAChC,MAAMA,EAAK,CAAC,EAAG,CAAC,EAAG,CAAC,EAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAG,CAAC,EAEhC,QAAQ,IAAI,iBAAiB,CAE/B,GAAG",
  "names": ["Flattener", "readable", "data", "controller", "logging", "chunk", "writable", "test", "limit"]
}
