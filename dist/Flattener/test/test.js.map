{
  "version": 3,
  "sources": ["test.ts"],
  "sourcesContent": ["import { Flattener } from \"../Flattener.ts\"\r\n\r\nconst readable = (data: any) => new ReadableStream({\r\n  start(controller) {\r\n    controller.enqueue(data)\r\n    controller.close()\r\n  }\r\n})\r\n\r\nconst logging = () => new TransformStream({\r\n  transform(chunk, controller) {\r\n    console.log(chunk)\r\n    controller.enqueue(chunk)\r\n  }\r\n})\r\n\r\nconst writable = () => new WritableStream()\r\n\r\nconst test = async (data: any, limit?: number) => {\r\n  console.groupCollapsed(`=== data: ${JSON.stringify(data)}, limit: ${limit} ===`)\r\n  await readable(data)\r\n    .pipeThrough(new Flattener(limit).transform())\r\n    .pipeThrough(logging())\r\n    .pipeTo(writable())\r\n  console.groupEnd()\r\n}\r\n\r\nawait test(undefined)\r\nawait test(null)\r\nawait test(\"abc\")\r\nawait test(123)\r\n\r\nawait test([1, 2, 3, 4, 5])\r\nawait test([{ a: 1 }, { a: 2 }, [{ a: 3 }, [{ a: 4 }]], { a: 5 }])\r\n\r\nawait test([0, [1, [2, [3]]]])\r\nawait test([0, [1, [2, [3]]]], 0)\r\nawait test([0, [1, [2, [3]]]], 1)\r\nawait test([0, [1, [2, [3]]]], 2)\r\nawait test([0, [1, [2, [3]]]], 3)\r\n\r\nconsole.log(\"Test completed.\")"],
  "mappings": "AAAA,SAAS,iBAAiB;AAE1B,MAAM,WAAW,CAAC,SAAc,IAAI,eAAe;AAAA,EACjD,MAAM,YAAY;AAChB,eAAW,QAAQ,IAAI;AACvB,eAAW,MAAM;AAAA,EACnB;AACF,CAAC;AAED,MAAM,UAAU,MAAM,IAAI,gBAAgB;AAAA,EACxC,UAAU,OAAO,YAAY;AAC3B,YAAQ,IAAI,KAAK;AACjB,eAAW,QAAQ,KAAK;AAAA,EAC1B;AACF,CAAC;AAED,MAAM,WAAW,MAAM,IAAI,eAAe;AAE1C,MAAM,OAAO,OAAO,MAAW,UAAmB;AAChD,UAAQ,eAAe,aAAa,KAAK,UAAU,IAAI,CAAC,YAAY,KAAK,MAAM;AAC/E,QAAM,SAAS,IAAI,EAChB,YAAY,IAAI,UAAU,KAAK,EAAE,UAAU,CAAC,EAC5C,YAAY,QAAQ,CAAC,EACrB,OAAO,SAAS,CAAC;AACpB,UAAQ,SAAS;AACnB;AAEA,MAAM,KAAK,MAAS;AACpB,MAAM,KAAK,IAAI;AACf,MAAM,KAAK,KAAK;AAChB,MAAM,KAAK,GAAG;AAEd,MAAM,KAAK,CAAC,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC;AAC1B,MAAM,KAAK,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,EAAE,GAAG,EAAE,GAAG,CAAC,EAAE,GAAG,EAAE,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC;AAEjE,MAAM,KAAK,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC7B,MAAM,KAAK,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC;AAChC,MAAM,KAAK,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC;AAChC,MAAM,KAAK,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC;AAChC,MAAM,KAAK,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC;AAEhC,QAAQ,IAAI,iBAAiB;",
  "names": []
}
