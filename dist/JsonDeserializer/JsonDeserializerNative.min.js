async function p(_,l={}){const b={env:Object.assign(Object.create(globalThis),l.env||{},{abort(t,n,e,r){t=f(t>>>0),n=f(n>>>0),e=e>>>0,r=r>>>0,(()=>{throw Error(`${t} in ${n}:${e}:${r}`)})()}})},{exports:a}=await WebAssembly.instantiate(_,b),o=a.memory||l.env.memory,h=Object.setPrototypeOf({sanitize_json(t){return t=u(t)||y(),f(a.sanitize_json(t)>>>0)},sanitize_jsonl(t){return t=u(t)||y(),f(a.sanitize_jsonl(t)>>>0)},indexOfLastSeparator_json(t){return t=d(Uint8Array,6,0,t)||y(),a.indexOfLastSeparator_json(t)}},a);function f(t){if(!t)return null;const n=t+new Uint32Array(o.buffer)[t-4>>>2]>>>1,e=new Uint16Array(o.buffer);let r=t>>>1,i="";for(;n-r>1024;)i+=String.fromCharCode(...e.subarray(r,r+=1024));return i+String.fromCharCode(...e.subarray(r,n))}function u(t){if(t==null)return 0;const n=t.length,e=a.__new(n<<1,2)>>>0,r=new Uint16Array(o.buffer);for(let i=0;i<n;++i)r[(e>>>1)+i]=t.charCodeAt(i);return e}function d(t,n,e,r){if(r==null)return 0;const i=r.length,c=a.__pin(a.__new(i<<e,1))>>>0,w=a.__new(12,n)>>>0;return m(w+0,c),s.setUint32(w+4,c,!0),s.setUint32(w+8,i<<e,!0),new t(o.buffer,c,i).set(r),a.__unpin(c),w}function y(){throw TypeError("value must not be null")}let s=new DataView(o.buffer);function m(t,n){try{s.setUint32(t,n,!0)}catch{s=new DataView(o.buffer),s.setUint32(t,n,!0)}}return h}const{memory:g,sanitize_json:j,sanitize_jsonl:U,indexOfLastSeparator_json:A}=await(async _=>p(await(async()=>{try{return await globalThis.WebAssembly.compileStreaming(globalThis.fetch(_))}catch{return globalThis.WebAssembly.compile(await(await import("node:fs/promises")).readFile(_))}})(),{}))(new URL("JsonDeserializerNative.wasm",import.meta.url));export{A as indexOfLastSeparator_json,g as memory,j as sanitize_json,U as sanitize_jsonl};
//# sourceMappingURL=JsonDeserializerNative.min.js.map
