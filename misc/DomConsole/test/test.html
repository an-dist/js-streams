<!DOCTYPE html>
<html lang="en" data-color-mode="auto" data-light-theme="light" data-dark-theme="dark">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<meta name="description" content="Streams(https://github.com/an-dist/js-streams) Demos and Examples">
<link rel="icon" href="/favicon.svg" type="image/svg+xml" sizes="any">
<link rel="apple-touch-icon" href="/apple-touch-icon.png" sizes="180x180">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Primer/21.1.1/primer.min.css" integrity="sha512-nwakYqn4w11bj59NffiuchQMfL6BuLG0oYDbmdDDGGD8Zj5JqxU7RH1OvbudufKqinoUSUWc8lQFtelega4gPg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
<link rel="stylesheet" href="../DomConsole.css">
<link id="theme" rel="stylesheet" href="../DomConsole.theme.chrome.css">
<title>DomConsole</title>

<header class="Header" style="flex-wrap: wrap !important;">
  <div class="Header-item">
    <a href="/" class="Header-link d-flex flex-items-center">
      <img src="/favicon.svg" alt="favicon" class="mr-2" style="width: var(--h3-size, 20px); height: auto;">
      <h3>DomConsole</h3>
    </a>
  </div>
  <div class="Header-item Header-item--full"></div>
  <div class="Header-item mr-0">
    <label for="siteTheme">Theme&nbsp;</label>
    <select id="siteTheme" class="form-select">
      <option value="auto">Auto</option>
      <option value="light">Light</option>
      <option value="dark">Dark</option>
    </select>
  </div>
</header>

<main class="container-md mt-2 px-3">

  <div style="position: sticky; top: 0; background-color: var(--color-canvas-default);">

    <div class="form-group">
      <div class="form-group-header">
        <h4>Theme</h4>
      </div>
      <select id="themes" class="form-select">
        <option value="">None</option>
        <option value="../DomConsole.theme.chrome.css" selected>Chrome(Auto)</option>
        <option value="../DomConsole.theme.chrome.light.css">Chrome(Light)</option>
        <option value="../DomConsole.theme.chrome.dark.css">Chrome(Dark)</option>
      </select>
    </div>

    <div class="form-group">
      <div class="form-group-header">
        <h4>Logging</h4>
      </div>
      <button id="log" class="btn">log</button>
      <button id="trace" class="btn">trace</button>
      <button id="debug" class="btn">debug</button>
      <button id="info" class="btn">info</button>
      <button id="warn" class="btn">warn</button>
      <button id="error" class="btn">error</button>
      <button id="assert" class="btn">assert</button>
    </div>

    <div class="form-group">
      <div class="form-group-header">
        <h4>Table</h4>
      </div>
      <button id="table" class="btn">table</button>
    </div>

    <div class="form-group">
      <div class="form-group-header">
        <h4>Grouping</h4>
      </div>
      <button id="group" class="btn">group</button>
      <button id="groupCollapsed" class="btn">groupCollapsed</button>
      <button id="groupEnd" class="btn">groupEnd</button>
    </div>

    <div class="form-group">
      <div class="form-group-header">
        <h4>Clear</h4>
      </div>
      <button id="clear" class="btn">clear</button>
    </div>
    
    <hr>
  </div>

  <section id="console"></section>

</main>

<script type="module">
  import { DomConsole } from "../DomConsole.js"
  const console = new DomConsole("console", globalThis.console)

  document.getElementById("themes").onchange = e => {
    document.getElementById("theme").href = e.target.value
  }

  document.getElementById("log").onclick = () => {
    console.log("invoke log.")
    console.log("invoke", "log")
    console.log("invoke log.", [1, 2, 3])
    console.log([1, 2, 3])
  }
  document.getElementById("trace").onclick = () => console.trace("invoke trace.", [1, 2, 3])
  document.getElementById("debug").onclick = () => console.debug("invoke debug.", [1, 2, 3])
  document.getElementById("info").onclick = () => console.info("invoke info.", [1, 2, 3])
  document.getElementById("warn").onclick = () => console.warn("invoke warn.", [1, 2, 3])
  document.getElementById("error").onclick = () => {
    console.error("invoke error.", [1, 2, 3])
    console.error("invoke error.", { a: 1, b: 2, c: 3 })
    console.error("aa", "bb", { a: 1, b: 2 }, [1, 2, 3, { a: [1, 2, 3] }])
  }
  document.getElementById("assert").onclick = () => {
    console.assert(true)
    console.assert(true, [1, 2, 3])
    console.assert(false)
    console.assert(false, [1, 2, 3])
  }

  document.getElementById("table").onclick = () => {
    console.table({ a: 1, b: 2, c: 3 })
    console.table([{ a: 1, b: 2, c: 3 }, { a: 1, b: 2, c: 3 }])
    console.table([{ a: 1, b: 2, c: 3 }, { a: 1, b: 2, c: 3 }], ["a", "c"])
    console.table([{ a: 1, b: 2, c: 3 }, { a: 1, b: 2, c: 3 }], "a", "c")
  }

  document.getElementById("group").onclick = () => {
    console.group("invoke group.", [1, 2, 3])
  }
  document.getElementById("groupCollapsed").onclick = () => {
    console.groupCollapsed("invoke groupCollapsed.", [1, 2, 3])
  }
  document.getElementById("groupEnd").onclick = () => console.groupEnd()

  document.getElementById("clear").onclick = () => console.clear()

    ;
  [...document.querySelectorAll("button")].forEach(btn => btn.addEventListener("click", e => {
    scrollTo(0, document.documentElement.scrollHeight - document.documentElement.clientHeight)
  }))
</script>

<script>
  const siteTheme = document.getElementById("siteTheme")
  siteTheme.value = localStorage.getItem("siteTheme") ?? "auto"
  document.documentElement.dataset.colorMode = siteTheme.value
  siteTheme.onchange = () => {
    document.documentElement.dataset.colorMode = siteTheme.value
    localStorage.setItem("siteTheme", siteTheme.value)
  }
</script>